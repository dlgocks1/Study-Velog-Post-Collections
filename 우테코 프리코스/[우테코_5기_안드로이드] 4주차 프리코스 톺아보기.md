# ìš°í…Œì½”ì—ì„œ ìš”êµ¬í•˜ëŠ” ê²ƒ

#### 1. í´ë˜ìŠ¤(ê°ì²´)ë¥¼ ë¶„ë¦¬í•˜ëŠ” ì—°ìŠµ
#### 2. ë¦¬íŒ©í„°ë§ ì—°ìŠµ

í´ë˜ìŠ¤(ê°ì²´)ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì— ëŒ€í•´ ì¡°ê¸ˆ ë” ê¹Šì´ ê³ ë¯¼í•´ ë³¼ ìˆ˜ ìˆë„ë¡ í´ë˜ìŠ¤ì˜ êµ¬ì¡°ì™€ ì œì•½ì‚¬í•­ì„ ìš”êµ¬ì‚¬í•­ì´ ì¶”ê°€ë¬ë‹¤.
* **BridgeGame í´ë˜ìŠ¤ì—ì„œ InputView, OutputView ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.**

> ë””ìì¸ íŒ¨í„´ì„ ì ìš©í•˜ë¼ëŠ” ì˜ë¯¸ë¥¼ ë‚´í¬í•˜ê³ ìˆë‹¤.

* ë‹¤ë¦¬ ì¹¸ì„ ìƒì„±í•˜ê¸° ìœ„í•œ Random ê°’ì€ ì•„ë˜ì™€ ê°™ì´ ì¶”ì¶œí•œë‹¤.
```
val number = bridgeNumberGenerator.generate()
````

* í•¨ìˆ˜(ë˜ëŠ” ë©”ì„œë“œ)ì˜ ê¸¸ì´ê°€ 10ë¼ì¸ì„ ë„˜ì–´ê°€ì§€ ì•Šë„ë¡ êµ¬í˜„í•œë‹¤.
* ë©”ì„œë“œì˜ íŒŒë¼ë¯¸í„° ê°œìˆ˜ëŠ” ìµœëŒ€ 3ê°œê¹Œì§€ë§Œ í—ˆìš©í•œë‹¤.

> í•¨ìˆ˜ê°€ í•˜ë‚˜ì˜ ì¼ë§Œ ìˆ˜í–‰í•˜ê²Œ, ê°€ë…ì„± ìˆëŠ” ì½”ë“œë¥¼ ìš”êµ¬í•˜ê³  ìˆë‹¤.


# What I Learn?


## Sealed Classë€?

[kotlinlang.org - sealed class](https://kotlinlang.org/docs/sealed-classes.html)

> Sealed Classë€ ì œí•œëœ í´ë˜ìŠ¤ ê³„ì¸µì„ ë‚˜íƒ€ë‚¸ë‹¤.
Sealed Classì˜ ì„œë¸Œ í´ë˜ìŠ¤ëŠ” ì»´íŒŒì¼ ì‹œ ëª¨ë‘ ì•Œë ¤ì§„ë‹¤. ì•Œë ¤ì§„ ì œí•œëœ ì§‘í•©ì˜ ìœ í˜•ì„ ê°€ì§ˆ ë•Œ ìœ ìš©í•˜ë‹¤.
ì¦‰ sealed í´ë˜ìŠ¤ëŠ” ìƒì† ë°›ëŠ” ìì‹ í´ë˜ìŠ¤ì˜ ì¢…ë¥˜ë¥¼ ì œí•œí•œë‹¤.

> ì»´íŒŒì¼ëŸ¬ëŠ” ClassëŠ” ìƒì† ë°›ì„ ë•Œ ë¶€ëª¨ Classê°€ ì–´ë– í•œ ìì‹ì—ê²Œ Classë¥¼ ìƒì†í–ˆëŠ”ì§€ ì•Œì§€ ëª»í•œë‹¤. 

Sealed ClassëŠ” Enum í´ë˜ìŠ¤ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ë‹¤ë¥´ë‹¤

#### enum í´ë˜ìŠ¤
ë‹¨ì¼ ì¸ìŠ¤í„´íŠ¸ë¡œë§Œ ì¡´ì¬ê°€ëŠ¥í•˜ë‹¤ (ì‹±ê¸€í†¤ìœ¼ë¡œ ì¡´ì¬)

#### sealed í´ë˜ìŠ¤
sealed classëŠ” ê°ê° ê³ ìœ í•œ ìƒíƒœë¥¼ ê°€ì§„ ì—¬ëŸ¬ ì¸ìŠ¤í„´íŠ¸ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.
ìƒì†ì„ ì§€ì›í•˜ì—¬ ë‹¤ì–‘í•œ ë™ì‘ êµ¬í˜„ ê°€ëŠ¥

* sealed í´ë˜ìŠ¤ì˜ ì„œë¸Œ í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤ëŠ” ë°˜ë“œì‹œ ê°™ì€ íŒ¨í‚¤ì§€ ë‚´ì— ì„ ì–¸ë˜ì–´ì•¼ í•œë‹¤

```
sealed interface Error // ê°™ì€ íŒ¨í‚¤ì§€ë‚´ì˜ ê°’ì—ë§Œ ìƒì† ê°€ëŠ¥

sealed class IOError(): Error // ê°™ì€ íŒ¨í‚¤ì§€ë‚´ì—ì„œë§Œ ì„ ì–¸ ê°€ëŠ¥
open class CustomError(): Error // ì–´ë””ì„œë“  ì„ ì–¸ ê°€ëŠ¥

```
* sealed í´ë˜ìŠ¤ëŠ” abstract í´ë˜ìŠ¤ì´ë©° abstract ë©¤ë²„ë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
* sealed í´ë˜ìŠ¤ì˜ ìƒì„±ìëŠ” private, protected ì˜ visibilityë¥¼ ê°€ì§„ë‹¤.
* í•˜ìœ„ í´ë˜ìŠ¤ëŠ” class, data class, object classë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤,


```
enum class State(hour: Int){
	SLEEP(8),
    WORK(4),
    EXCERSIZE(2),
}

val state1 = State.WORK // OK
val state2 = State.WORK(2) // ERROR!

sealed class State{
	SLEEP(sleepHour: Int),
    WORK(workHour: Int),
    EXCERSIZE(excersizeHour: Int, where: String),
}

// ê³ ìœ  ìƒíƒœë¥¼ ê°€ì§„ ì—¬ëŸ¬ ì¸ìŠ¤í„´íŠ¸ ì¡´ì¬ ê°€ëŠ¥!
val state1 = State.WORK(2)
val state2 = State.WORK(3)
val state5 = State.EXCERSIZE(5,"GYM")
```

sealed classë¥¼ ì‚¬ìš©í•˜ì—¬ ì–»ëŠ” ì´ë“ ì¤‘ í¬ì¸íŠ¸ëŠ” `when` í‘œí˜„ì„ ì‚¬ìš©í•  ë•Œì´ë‹¤. ëª¨ë“  í•˜ìœ„ ì¼€ì´ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì´ ê°€ëŠ¥í•¨ìœ¼ë¡œì¨ `else`ë¸ŒëŸ°ì¹˜ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìœ¼ë©°, ì˜ˆìƒì¹˜ ëª»í•œ ê°’ì´ ë“¤ì–´ì˜¬ ì¼ë„ ì—†ë‹¤.
```
when(State) {
	is SLEEP -> { // do something! }
    is WORK -> { // do something! }
    is EXCERSIZE -> { // do something! }
}
```

### í™œìš©

ë‹¤ë¦¬ê±´ë„ˆê¸°ë¥¼ ì‹¤í–‰í•  ë•Œ ì‹¤íŒ¨, ì„±ê³µ, ì™„ë£Œë¡œ ìƒíƒœë¥¼ ë‚˜ëˆ„ê³  ê°ê°ì˜ ê²°ê³¼ë§ˆë‹¤ ìœ„, ì•„ë˜ ë¼ëŠ” ìƒíƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆê²Œ í•˜ì˜€ë‹¤.

* SUCCESS(Up), FAIL(Down)

```
sealed class BridgeStatus(private val direction: String) {
    
    class FINISH(direction: String) : BridgeStatus(direction)
    class SUCCESS(direction: String) : BridgeStatus(direction)
    class FAIL(direction: String) : BridgeStatus(direction)

    fun getDirection(): String = direction

    fun isFinish(action: () -> Unit) {
        if (this is FINISH) {
            action()
        }
    }

    fun isSuccess(action: () -> Unit) {
        if (this is SUCCESS) {
            action()
        }
    }

    fun isFail(action: () -> Unit) {
        if (this is FAIL) {
            action()
        }
    }
}
```

í•´ë‹¹ ê°ì²´ê°€ FINISH íƒ€ì…ì¼ ë•Œë§Œ ì‹¤í–‰ë˜ëŠ”  `isFinish`ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ í–‰ë™ì„ ì •ì˜í•œë‹¤.
* ì•„ê·œë¨¼íŠ¸ì˜ ë§ˆì§€ë§‰ìœ¼ë¡œ ì˜¤ëŠ” ëŒë‹¤ì‹ì€ ê°„ëµí™” ë  ìˆ˜ ìˆë‹¤.
```
    private fun onFinish(result: BridgeStatus) {
        result.isFinish {
            outputView.printEndMessage()
            outputView.printMap(bridgeResult)
            outputView.printResult(result, bridgeResult.totalCount)
        }
    }
```

whenë¸ŒëŸ°ì¹˜ë¥¼ ì´ìš©í•´ ëª¨ë“  ì¼€ì´ìŠ¤ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
```
when (result) {
    is BridgeStatus.FINISH -> addSuccess(result.getDirection())
    is BridgeStatus.SUCCESS -> addSuccess(result.getDirection())
    is BridgeStatus.FAIL -> addFail(result.getDirection())
}
```



## Interfaceë¥¼ ë¶„ë¦¬í•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ê¸° ì¢‹ì€ ë©”ì„œë“œë¡œ ë§Œë“¤ê¸° 

ì´ëŠ” 3ì£¼ì°¨ ë•Œë„ ê²½í—˜í–ˆë˜ ê³¼ì œì´ë‹¤.

```
class BridgeRandomNumberGenerator {
    fun generate(): Int {
        return Randoms.pickNumberInRange(RANDOM_LOWER_INCLUSIVE, RANDOM_UPPER_INCLUSIVE)
    }
}
```
`BridgeRandomNumberGenerator`ê°€ ëœë¤ ê°’ì„ ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ `BridgeMaker`ê°€ ë‹¤ë¦¬ë¥¼ ë§Œë“ ë‹¤ê³  í•˜ì. 

```
class BridgeMaker(private val bridgeNumberGenerator: BridgeNumberGenerator) {
    
    fun makeBridge(size: Int): List<String> {
        require(size in BRIDGE_MIN_LENGTH..BRIDGE_MAX_LENGTH) {
            ERR_BRIDGE_LENGTH
        }
        return List(size) {
            if (bridgeNumberGenerator.generate() == RANDOM_UPPER_INCLUSIVE) BRIDGE_UPPER_SYMBOL else BRIDGE_LOWER_SYMBOL
        }
    }
}
```
ë§Œì•½ `makeBridge`ë¥¼ í…ŒìŠ¤íŠ¸í•œë‹¤ê³  í•œë‹¤ë©´ ì–´ë–»ê²Œ í• ê¹Œ??

```
    @ParameterizedTest
    @ValueSource(strings = ["10", "15"])
    @DisplayName("ë§Œë“¤ì–´ì§€ëŠ” ë‹¤ë¦¬ê°€ U ë˜ëŠ” Dê°€ í¬í•¨ëœ í˜•íƒœë¡œ ë°˜í™˜ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•œë‹¤.")
    fun makeRightBridge(size: Int) {
        assertSimpleTest {
            assertThat(bridgeMaker.makeBridge(size)).hasSize(size)
            assertThat(bridgeMaker.makeBridge(size)).containsAnyOf("U", "D")
        }
    }
```

ì‘ì„±í•œë‹¤ê³  ì‘ì„±í•˜ì˜€ì§€ë§Œ ë§¤ìš° ì˜ì–‘ê°€ ì—†ëŠ” í…ŒìŠ¤íŠ¸ì½”ë“œê°€ ì‘ì„±ë¬ë‹¤. ( ë¬¼ë¡  í•„ìš”í•  ìˆ˜ ìˆì§€ë§Œ) ì‚¬ì´ì¦ˆ, U,Dë¥¼ ëª¨ë‘ í¬í•¨í•˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜ë˜ëŠ”ì§€ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ëŠ” ê·¸ë ‡ê²Œ ìœ ìš©í•œ í…ŒìŠ¤íŠ¸ëŠ” ì•„ë‹ ê²ƒì´ë‹¤.

í•˜ì§€ë§Œ ë‹¤ë¦¬ê°€ ëœë¤ìœ¼ë¡œ ë§Œë“¤ì–´ ì§ìœ¼ë¡œ ì´ê²ƒ ì´ìƒìœ¼ë¡œ ìœ ìš©í•œ í…ŒìŠ¤íŠ¸ì½”ë“œëŠ” ì‘ì„±í•  ìˆ˜ ì—†ë‹¤.

---

ì´ì œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¶”ì¶œí•˜ì—¬ í•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ ì˜ì–‘ê°€ ìˆê²Œ ë°”ê¾¸ì–´ ë³´ì.
ê¸°ì¡´ì˜ `BridgeRandomNumberGenerator`ì—ì„œ generate()ë¼ëŠ” ë¡œì§ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¶”ì¶œí•˜ì—¬ ì—¬ëŸ¬ê°œì˜ Generatorê°€ ì¡´ì¬í•˜ê²Œ ë§Œë“¤ì. 
```
interface BridgeNumberGenerator {
    fun generate(): Int
}

class BridgeRandomNumberGenerator : BridgeNumberGenerator {
    override fun generate(): Int {
        return Randoms.pickNumberInRange(RANDOM_LOWER_INCLUSIVE, RANDOM_UPPER_INCLUSIVE)
    }
}

class TestNumberGenerator(numbers: List<Int>) : BridgeNumberGenerator {
    private val numbers: MutableList<Int> = numbers.toMutableList()

    override fun generate(): Int {
        return numbers.removeAt(0)
    }
}
```
ë‘ê°œì˜ `Generator`ì€ ë˜‘ê°™ì´ Intë¥¼ ë°˜í™˜í•˜ì§€ë§Œ ì•„ë˜ì˜ í…ŒìŠ¤íŠ¸ ì „ìš© ì œë„ˆë ˆì´í„°ëŠ” `numbers` ë¼ëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ìš©í•´ í•´ë‹¹ ë¦¬ìŠ¤íŠ¸ì˜ ê°’ì„ ë°˜í™˜í•œë‹¤.
ë§Œë“¤ì–´ì§€ëŠ” ë¸Œë¦¿ì§€ì˜ í˜•íƒœë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ìˆê²Œ ëœ ê²ƒì´ë‹¤.

```
    private lateinit var bridgeMaker: BridgeMaker

    @BeforeEach
    fun setUp() {
        bridgeMaker = BridgeMaker(TestNumberGenerator(listOf(1, 0, 0, 1, 1)))
    }

    @Test
    @DisplayName("ì™„ì„±ëœ ë‹¤ë¦¬ê°€ ì˜ˆìƒëœ í˜•íƒœì™€ ê°™ì€ì§€ í…ŒìŠ¤íŠ¸í•œë‹¤.")
    fun makeBridgeTest() {
        assertSimpleTest {
            assertThat(bridgeMaker.makeBridge(5)).isEqualTo(listOf("U", "D", "D", "U", "U"))
        }
    }
```
ë¸Œë¦¿ì§€ì˜ í˜•íƒœê°€ ì˜ˆì¸¡ì´ ê°€ëŠ¥í•´ ì§€ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œë„ ë”ìš± ë” ì˜ì–‘ê°€ ìˆê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. 



## TDD ê¸°ë°˜ì˜ ì½”ë“œì‘ì„± ì—°ìŠµ (ì‹¤íŒ¨ğŸ¥²)

* ë„ë©”ì¸ ë¡œì§ì— ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.

TDDê¸°ë°˜ì˜ ì½”ë“œì‘ì„±ì€ ê°„ë‹¨í•˜ê²Œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•˜ê³ , ê·¸ í›„ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ë‹¤. ì´ëŠ” ì…ë ¥ê³¼ ì¶œë ¥ì„ ëª…í™•íˆ ì •í•´ ë†“ê³  ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ë•Œë¬¸ì— ëª…í™•í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìœ¼ë©° ë¦¬íŒ©í† ë§í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ê¸° ì‰½ë‹¤. ë˜í•œ ë‚˜ì¤‘ì— ë¦¬íŒ©í† ë§ ë˜ì–´ë„ í•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì˜ ì‘ì„±ëœ í…ŒìŠ¤íŠ¸ëŠ” í›„ì—ë„ ë„ì›€ì´ ë  ê²ƒ ì´ë‹¤.

TDDê¸°ë°˜ìœ¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ì˜ˆë¡œ `BridgeMap`ë¥¼ ë³´ê² ë‹¤.
í•´ë‹¹ ê°ì²´ëŠ” ìœ„ìª½ ê¸¸, ì•„ë˜ ìª½ ê¸¸ì„ í•„ë“œë¡œ ê°€ì§€ë©° í•´ë‹¹ í•„ë“œì— ë‹¤ë¦¬ ê±´ë„ˆê¸° ì„±ê³µ, ì‹¤íŒ¨, ê³µë°±ì˜ ê²°ê³¼ë¥¼ ê°€ì ¸ì•¼ í•œë‹¤.

í•´ë‹¹ í•„ë“œë¥¼ ê°€ì§€ê³  ì œëŒ€ë¡œëœ ì§€ë„ë¥¼ ë°˜í™˜í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•œë‹¤.
```
	private lateinit var bridgeMap: BridgeMap

    @BeforeEach
    fun setUp() {
        bridgeMap = BridgeMap()
    }
    
    @Test
    @DisplayName("ë¸Œë¦¿ì§€ë§µ (U, U, D) ì—…ë°ì´íŠ¸ê°€ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•œë‹¤.")
    fun updateTest2() {
        assertSimpleTest {
            bridgeMap.update(BridgeStatus.SUCCESS("U"))
            bridgeMap.update(BridgeStatus.SUCCESS("U"))
            bridgeMap.update(BridgeStatus.FINISH("D"))
            assertThat(bridgeMap.toString()).contains(
                "[ O | O |   ]",
                "[   |   | O ]",
            )
        }
    }
    
    @Test
    @DisplayName("ë¸Œë¦¿ì§€ë§µ (U, D) ì—…ë°ì´íŠ¸ê°€ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•œë‹¤.")
    fun updateTest() {
        assertSimpleTest {
            bridgeMap.update(BridgeStatus.SUCCESS("U"))
            bridgeMap.update(BridgeStatus.FAIL("D"))
            assertThat(bridgeMap.toString()).contains(
                "[ O |   ]",
                "[   | X ]",
            )
        }
    }
```

í•´ë‹¹ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ BridgeMapê°ì²´ë¥¼ ì‘ì„±í•œë‹¤.
```
class BridgeMap {

    private val upperMap: MutableList<String> = mutableListOf()
    private val lowerMap: MutableList<String> = mutableListOf()

    override fun toString(): String {
        val result = StringBuilder()
        buildUpperMap(result)
        result.append("\n")
        buildLowerMap(result)
        return result.toString()
    }

    private fun addFail(direction: String) {
        if (direction == BRIDGE_UPPER_SYMBOL) {
            upperMap.add(BRIDGE_FAIL)
            lowerMap.add(BRIDGE_BLANK)
            return
        }
        upperMap.add(BRIDGE_BLANK)
        lowerMap.add(BRIDGE_FAIL)
    }

    private fun addSuccess(direction: String) {
        if (direction == BRIDGE_UPPER_SYMBOL) {
            upperMap.add(BRIDGE_CORRECT)
            lowerMap.add(BRIDGE_BLANK)
            return
        }
        upperMap.add(BRIDGE_BLANK)
        lowerMap.add(BRIDGE_CORRECT)
    }
}
```

ì•½ê°„ TDDê¸°ë°˜ ì½”ë“œì‘ì„±ì˜ ì´ìƒí–¥ ì²˜ëŸ¼ ê¸€ì„ ì»ì§€ë§Œ ìœ„ì— ê¸€ì„ ì¨ë†“ì•˜ë“¯ì´ ì´ëŸ¬í•œ ìˆœì„œëŒ€ë¡œ ì½”ë“œë¥¼ ì‘ì„±í•œ ê²ƒì€ ì•„ë‹ˆë‹¤.

![](https://velog.velcdn.com/images/cksgodl/post/56b80e83-7843-4f7e-8214-a6eec442bd2d/image.png)

4ì£¼ì°¨ ê³¼ì œë¥¼ ì§„í–‰í•˜ë©° êµ¬ë™í•˜ëŠ” ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•˜ê³  ì´ë¥¼ ë¦¬íŒ©í† ë§í•˜ì—¬ MVCíŒ¨í„´ì— ë§ê²Œ ë°”ê¾¸ì—ˆê¸° ë•Œë¬¸ì— ìˆ˜ë§ì€ ì½”ë“œì˜ ìˆ˜ì •ì´ ë“¤ì–´ ê°”ê³  ì´ì— ë”°ë¥¸ í…ŒìŠ¤íŠ¸ë„ ì „ë¶€ ë‹¤ ë°”ê¾¸ì–´ì•¼í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ë‹¤.

 ê°ì²´ì˜ ë„ë©”ì¸ë¡œì§ì„ ì•„ì£¼ ì‘ì€ ë‹¨ìœ„ë¶€í„° êµ¬í˜„í•˜ë©° ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ” ê²ƒì€ ì‰½ì§€ ì•Šë‹¤. í•´ë‹¹ ê°ì²´ê°€ ì–´ë–¤ ì¼ì„ í•´ì•¼í• ì§€, í•´ë‹¹ ë¡œì§ì— ì–´ë– í•œ ì…ë ¥ê°’ì´ ë“¤ì–´ì˜¬ì§€ì— ëŒ€í•´, í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ë‚˜ë‹ˆ ì…ë ¥ê³¼ ì¶œë ¥ì´ ë°”ë€ŒëŠ” ë¬¸ì œë¥¼ ìˆ˜ì—†ì´ ê²ªìœ¼ë©° **ì „ì²´ì ì¸ êµ¬ì¡°ëŠ” ì–´ë–»ê²Œ êµ¬ì„±í• ì§€ ë¶€í„° ìƒê°í•˜ëŠ” ê³¼ì •ì´ ì¤‘ìš”í•¨ì„ ëŠê¼ˆë‹¤.**


## ê°ì²´ì§€í–¥, ê°ì²´ê°€ ì¼ì„ í•˜ê²Œ í•˜ë¼

#### [ìƒê°í•˜ë¼, ê°ì²´ì§€í–¥ì²˜ëŸ¼](https://techblog.woowahan.com/2502/)

BridgeGameì€ ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ ì§„í–‰ëœë‹¤.

1. ë‹¤ë¦¬ ì‚¬ì´ì¦ˆë¥¼ ì…ë ¥ë°›ì•„ ë‹¤ë¦¬ë¥¼ ìƒì„±í•œë‹¤.
2. ìƒì„±ëœ ë‹¤ë¦¬ì™€ ì‚¬ìš©ìì˜ ì…ë ¥ì„ ì´ìš©í•˜ì—¬ ë‹¤ë¦¬ë¥¼ ê±´ë„Œë‹¤.
3. ì˜ëª»ëœ ë‹¤ë¦¬ë¥¼ ê±´ë„ˆë©´ ì‹¤íŒ¨, ì˜ ê±´ë„ˆë©´ ì„±ê³µ, ë‹¤ ê±´ë„ˆë©´ ì™„ë£Œë¼ëŠ” ê²°ê³¼ë¥¼ ì´ìš© ê²Œì„ì„ ì§„í–‰, ì¤‘ë‹¨í•œë‹¤.


ì—¬ê¸°ì„œ ê°ì²´ëŠ” ë¬´ì—‡ì´ ì‚¬ìš©ë˜ëŠ”ê°€??

* InputView, OutputViewì™€ ê°™ì€ UIë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” ê°ì²´

* ê²Œì„ì„ ì „ì²´ì ìœ¼ë¡œ í†µì†”í•˜ëŠ” BridgeController ê°ì²´

* ë‹¤ë¦¬ë¥¼ ìƒì„±í•˜ëŠ” BridgeMaker ê°ì²´

* ëœë¤ ë‹¤ë¦¬ë²ˆí˜¸ë¥¼ ìƒì„±í•˜ëŠ” BridgeNumberGenerator ê°ì²´

* ìƒì„±ëœ ë‹¤ë¦¬ë¥¼ ì†Œìœ í•˜ë©° ë‹¤ë¦¬ì˜ ê±´ë„ˆê¸°ì˜ ê²°ê³¼ë¥¼ ê´€ë¦¬í•˜ëŠ” BridgeGame ê°ì²´

* ê²Œì„ì˜ ê²°ê³¼ë¥¼ ê´€ë¦¬í•˜ëŠ” BridgeResult ê°ì²´

* ì‹¤íŒ¨, ì„±ê³µ, ì™„ë£Œ ë¼ëŠ” í•­ëª©ì„ ê°€ì§€ê³ ìˆëŠ” Sealed ê°ì²´

ê°ì²´ê°€ ì¼ì„ í•˜ë„ë¡ MVCë””ìì¸ íŒ¨í„´ì— ì•Œë§ê²Œ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë³´ì•˜ë‹¤.

![](https://velog.velcdn.com/images/cksgodl/post/8179137b-8761-4aa2-bcb6-feb41604794d/image.png)

ê°ì²´ê°€ ì–´ë””ì„œ ì–´ë–¤ ì¼ì„ ìˆ˜í–‰í•˜ëŠ”ì§€ ì‘ì„±í•´ë³´ì•˜ë‹¤.
ë‹¤ìŒì˜ ê¸°ëŠ¥ ë¦¬ìŠ¤íŠ¸ë„ ê°ê°ì˜ ê°ì²´ê°€ ìê¸°ì˜ ì—­í• ë§Œì„ ìˆ˜í–‰í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•´ ë³´ì.

#### 1. ë‹¤ë¦¬ ì‚¬ì´ì¦ˆë¥¼ ì…ë ¥ë°›ì•„ ë‹¤ë¦¬ë¥¼ ìƒì„±í•œë‹¤.
1. Controllerì—ì„œ Viewì—ì„œ ì‚¬ì´ì¦ˆë¥¼ ì…ë ¥ë°›ê³  BridgeGameì— ë„˜ê¸´ë‹¤.
2. BridgeGameì—ì„œëŠ” BridgeMakerì—ê²Œ í•´ë‹¹ ì‚¬ì´ì¦ˆë¥¼ ì „ë‹¬í•œë‹¤.
3. BridgeMakerëŠ” í•´ë‹¹ ì‚¬ì´ì¦ˆë§Œí¼ì˜ ë¸Œë¦¿ì§€ ë²ˆí˜¸ë¥¼ ìƒì„±í•œë‹¤.
4. BridgeGameì€ í•´ë‹¹ ë¸Œë¦¿ì§€ ë²ˆí˜¸ë¥¼ ì´ìš©í•˜ì—¬ Bridgeë¥¼ ë§Œë“ ë‹¤.


#### 2. ìƒì„±ëœ ë‹¤ë¦¬ì™€ ì‚¬ìš©ìì˜ ì…ë ¥ì„ ì´ìš©í•˜ì—¬ ë‹¤ë¦¬ë¥¼ ê±´ë„Œë‹¤.
* ìƒì„±ëœ ë‹¤ë¦¬ëŠ” BridgeGameì˜ Bridge ê°ì²´ì´ë‹¤.
1. Controllerì—ì„œ Viewì—ê²Œ ë‹¤ë¦¬ë¥¼ ì–´ë””ë¡œ ê±´ë„ì§€(direction) ì…ë ¥ë°›ëŠ”ë‹¤.
2. Contorllerê°€ BridgeGameì—ê²Œ í•´ë‹¹ ê°’ì„ ì „ë‹¬í•œë‹¤.
3. BridgeGameì—ì„œ í•´ë‹¹ directionì„ ê±´ë„ ìˆ˜ ìˆëŠ”ì§€ Bridgeì—ê²Œ ë¬¼ì–´ë³¸ë‹¤.
4. BridgeGameì´ ë‹¤ë¦¬ë¥¼ ê±´ë„Œ ê²°ê³¼ ê°’(Sealed Class)ì„ ë°˜í™˜í•œë‹¤.

#### 3. ì˜ëª»ëœ ë‹¤ë¦¬ë¥¼ ê±´ë„ˆë©´ ì‹¤íŒ¨, ì˜ ê±´ë„ˆë©´ ì„±ê³µ, ë‹¤ ê±´ë„ˆë©´ ì™„ë£Œë¼ëŠ” ê²°ê³¼ë¥¼

1. Controllerì—ì„œ í•´ë‹¹ ê²°ê³¼ ê°’ì„ ì´ìš©í•˜ì—¬ BridgeResultë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.
	* ì„±ê³µ : 2ë²ˆìœ¼ë¡œ ëŒì•„ê°€ ë‹¤ì‹œ ë‹¤ë¦¬ë¥¼ ê±´ë„Œë‹¤.
    * ì‹¤íŒ¨ : Viewê°€ ì‹¤íŒ¨ ë©”ì‹œì§€ë¥¼ ì¶œë ¥ í•˜ê³ , ì¬ì‹œì‘ ìœ ë¬´ë¥¼ ì„ íƒí•œë‹¤.
     ì¬ì‹œì‘í•œë‹¤ë©´ BridgeResultë¥¼ ì´ˆê¸°í™”í•œë‹¤.
     * ì™„ë£Œ : Viewê°€ ì™„ë£Œ ë©”ì‹œì§€ ë° ê²°ê³¼ë¥¼ ì¶œë ¥í•œë‹¤.

---

#### ì˜ë¬¸ ë° ìƒê°í•´ì•¼ í•  ì  ğŸ¤”

1. BridgeResultëŠ” Controllerì—ì„œ ê´€ë¦¬ë˜ì–´ì•¼ í•˜ëŠ”ê°€?
	BridgeResultë„ BridgeGameì˜ ì¼ë¶€ì´ë©° BridgeGameì—ì„œ ê²°ê³¼ ê°’ì„ ë°˜í™˜í•  ë•Œì— BridgeResultë¥¼ ì—…ë°ì´íŠ¸í•´ ì£¼ì–´ë„ ë˜ì§€ ì•ŠëŠ”ê°€?
   
  
2. ê°ì²´ê°€ ë³¸ì¸ì´ ìˆ˜í–‰í•  ì¼ì„ ìˆ˜í–‰í•˜ê³  ìˆëŠ”ê°€?
	ë‹¤ë¦¬ ì‚¬ì´ì¦ˆë¥¼ ì…ë ¥ë°›ê±°ë‚˜ direction(ë°©í–¥)ì„ ì…ë ¥ë°›ì„ ë•Œ ì´ë¥¼ Viewì—ì„œ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆì§€ë§Œ, ì´ëŸ¬í•œ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ View ê°ì²´ê°€ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ”ê°€ ì•„ë‹ˆë©´ Modelì—ì„œ ìˆ˜í–‰í•´ì•¼ í•˜ëŠ”ê°€ ì˜ˆì™¸ì²˜ë¦¬ëŠ” ëˆ„êµ¬ì˜ ëª«ì¸ê°€?
    ```
	class Bridge(private val bridge: List<String>) : List<String> by bridge {
 	  	 init {
    	    require(bridge.all {
        	    it == BRIDGE_UPPER_SYMBOL || it == BRIDGE_LOWER_SYMBOL
        	}) {
            	ERR_BRIDGE_SYMBOL
       		 }
   		 }
    }
    ```
    
3. Privateìœ¼ë¡œ ì„ ì–¸ëœ ê°ì²´ì˜ í•„ë“œì— ëŒ€í•œ get, setì— ëŒ€í•´
	 kotlinì€ ê°ì²´ì˜ í•„ë“œì— ëŒ€í•´ ìë°”ì™€ ë‹¬ë¦¬ get, setì„ ìë™ìœ¼ë¡œ êµ¬í˜„í•´ ì¤€ë‹¤.
```
// JAVA
class Car {
    private int fuel = 0;
    
    void set (int input) {
        feul = input
    }
    
    int get() {
        return fuel;
    }
}

// Kotlin
class Car {
	int fuel = 0
}
```

ì½”í‹€ë¦°ì€ ë‹¤ìŒê³¼ ê°™ì´ setterë¥¼ ê°„ë‹¨í•˜ê²Œ privateí•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
ë˜ëŠ” getter ë° setterì˜ ì»¤ìŠ¤í…€ì´ ê°€ëŠ¥í•˜ë‹¤.
```
    var totalCount: Int = GAME_START_NUMBER
        private set

	// Get í•„ìš” ì—†ìŒ
    fun getTotalCount(): Int = totalCount
    
    // Custom
    var totalCount: Int = GAME_START_NUMBER
        private set(value) {
            field = value + 1
        }
```


